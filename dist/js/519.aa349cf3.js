"use strict";(self["webpackChunkvue_littlefivemusic"]=self["webpackChunkvue_littlefivemusic"]||[]).push([[519],{7519:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login_page"},[e("van-nav-bar",{attrs:{title:"登录","left-text":"返回","left-arrow":""},on:{"click-left":t.backBtn}}),t._m(0),e("div",{staticClass:"userpwd"},[e("van-form",[e("van-cell-group",[e("van-field",{attrs:{label:"手机号",placeholder:"请输入手机号","left-icon":"phone-o",autosize:"",rules:t.phoneRule},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t.fs_yzm?e("van-field",{attrs:{label:"密码","left-icon":"orders-o",placeholder:"请输入密码","right-icon":t.passwordStatus?"eye":"closed-eye",type:t.passwordStatus?"text":"password",autosize:""},on:{"click-right-icon":function(e){t.passwordStatus=!t.passwordStatus}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}):e("div",{staticClass:"yzm_input"},[e("van-field",{attrs:{"left-icon":"orders-o",label:"验证码",placeholder:"请输入验证码",type:t.text},model:{value:t.Yzm,callback:function(e){t.Yzm=e},expression:"Yzm"}}),e("van-button",{staticStyle:{width:"10rem"},on:{click:function(e){return t.getYzm(t.username)}}},[t._v("发送验证码")])],1)],1),e("div",{staticStyle:{margin:"2rem"}},[e("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:function(e){return t.onSubmit(t.username,t.password)}}},[t._v("登录")])],1),e("a",{staticStyle:{position:"absolute",right:"2rem"},domProps:{textContent:t._s(t.fs_yzm?"验证码登录":"密码登录")},on:{click:function(e){t.fs_yzm=!t.fs_yzm}}})],1)],1)],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"img",staticStyle:{margin:"3rem 0 2rem","text-align":"center"}},[e("img",{staticStyle:{width:"90%",height:"30vh","border-radius":"5rem"},attrs:{src:s(768)}})])}],n=(s(7658),s(3822)),i={data(){return{username:"",password:"",passwordStatus:!1,fs_yzm:!0,phoneRule:[{required:!0,message:"手机号不能为空",trigger:"onBlur"},{validator:t=>{let e=/^1[3|4|5|7|8]\d{9}/,s=e.test(t);return s},message:"手机号格式错误",trigger:"onBlur"}]}},methods:{...(0,n.nv)(["user/login","playlist/getJingPingList","user/getYzm"]),backBtn(){this.$router.go(-1)},async onSubmit(t,e){const s=this.$toast.loading({message:"加载中",forbidClick:!0,loadingType:"spinner"});if(t||e)try{await this["user/login"]({phone:t,password:e}),this.$router.push("/")}catch(r){return}finally{s.clear()}},getYzm(t){this["user/getYzm"](JSON.stringify(t))}}},o=i,l=s(1001),u=(0,l.Z)(o,r,a,!1,null,"349ffde3",null),c=u.exports},768:function(t,e,s){t.exports=s.p+"img/login_lo.e4811fb4.png"}}]);
//# sourceMappingURL=519.aa349cf3.js.map