"use strict";(self["webpackChunkvue_littlefivemusic"]=self["webpackChunkvue_littlefivemusic"]||[]).push([[189],{5189:function(t,a,s){s.r(a),s.d(a,{default:function(){return y}});var l=function(){var t=this,a=t._self._c;return a("div",{staticClass:"daily_song"},[a("div",{staticClass:"btn_tilte"},[a("span",{staticClass:"iconfont icon-xiangzuo",staticStyle:{"font-size":"1.1rem"},on:{click:t.backBtn}}),a("span",[t._v("今日推荐")]),a("van-icon",{attrs:{name:"search"}})],1),a("BS_Scroll",{staticClass:"bs_cont",style:[{overflow:"hidden"},{height:t.currentPlaySong.id?"calc(100vh - 8.8rem)":"calc(100vh - 4rem)"}],attrs:{click:!0,data:t.list}},[a("div",[a("header",[a("span",{staticStyle:{"font-size":"2.5rem"}},[t._v(t._s(t.day))]),t._v("/"),a("span",[t._v(t._s(t.month))])]),a("section",[a("ul",t._l(t.list,(function(s,l){return a("li",{key:s.id,on:{click:function(a){return t.toPlay(s.id,s,l)}}},[t.tapFlag!==l?a("span",[a("img",{staticStyle:{width:"2.3rem"},attrs:{src:s.al.picUrl}})]):a("span",{staticClass:"iconfont icon-bar-chart-fill",staticStyle:{color:"orange","font-size":"1.3rem"}}),a("div",{staticClass:"zj_text"},[a("h3",{class:t.tapFlag==l?"active":""},[t._v(" "+t._s(s.name)+" ")]),a("div",{staticClass:"gray csl"},[a("span",[t._v(t._s(s.ar))]),t._v(" - "+t._s(s.al.name)+" ")])]),a("span",{staticClass:"iconfont icon-yuandiancaidan"})])})),0)])])])],1)},i=[],e=(s(7658),s(472)),n=s(3822),o={name:"dailySongs",data(){return{list:[],day:"",month:"",tapFlag:null}},async created(){this.list=await this.getDaily(),this.getTime(),this.tapFlag=this.list.findIndex((t=>t.id==this.currentPlaySong.id))},computed:{...(0,n.Se)(["currentPlaySong"])},methods:{...(0,n.nv)(["play/getSongDetail","play/getPlayUrl","playlist/getAllPlaySong","play/getSongDetail"]),...(0,n.OI)(["play/setCurrentPlaySong","play/setCurrentPlayList"]),async getDaily(){let t=[],a=await this.$store.dispatch("discover/getRecommedList",100),s=a.data.result[Math.floor(Math.random(0,100))].id,l=await this.getAllPlaySong(s);return console.log(l),l.map(((a,s)=>{s<30&&t.push(a)})),t},getTime(){let t=new Date;this.day=t.getDate(),this.month=t.getMonth()+1},backBtn(){this.$router.go(-1)},async toPlay(t,a,s){await this["play/getPlayUrl"](t),this.tapFlag=s,this.$store.commit("play/switchPlayer"),this["play/setCurrentPlaySong"](a),this["play/getSongDetail"](t)},async getAllPlaySong(t){let a=await this["playlist/getAllPlaySong"](t);console.log(a);let s=[];a.data.songs?.map((t=>{s.push(t.id)}));let l=await this["play/getSongDetail"](s);return l.data.songs?.map(((t,a)=>l.data.songs[a].ar=(0,e.v)(t.ar))),this["play/setCurrentPlayList"](l.data.songs),l.data.songs}}},c=o,r=s(1001),g=(0,r.Z)(c,l,i,!1,null,"db2cbe8a",null),y=g.exports}}]);