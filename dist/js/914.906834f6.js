"use strict";(self["webpackChunkvue_littlefivemusic"]=self["webpackChunkvue_littlefivemusic"]||[]).push([[914],{1914:function(e,t,r){r.r(t),r.d(t,{default:function(){return o}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search_page"},[t("header",[t("span",{staticClass:"iconfont icon-xiangzuo",staticStyle:{"font-size":"1.1rem",width:"10%"},on:{click:function(t){return e.backBtn(e.searchInput)}}}),t("van-field",{ref:"input_van",staticStyle:{"border-radius":"3rem",width:"70%"},attrs:{"left-icon":"search",placeholder:"你好",autofocus:""},on:{input:function(t){return e.checkKeyword(e.searchInput)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchSong(e.searchInput)}},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),t("p",{on:{click:function(t){return e.searchSong(e.searchInput)}}},[e._v("搜索")])],1),e.showTip?t("div",{staticClass:"search_tip"},[t("ul",e._l(e.searchTips,(function(r){return t("li",{key:r.id,on:{click:function(t){return e.searchSong(r.name)}}},[t("van-icon",{attrs:{name:"search"}}),e._v(" "),t("span",[e._v(" "+e._s(r.name))])],1)})),0)]):e._e(),e.showTip?e._e():t("router-view",{attrs:{keyword:e.searchInput},on:{keyProp:e.getKey}})],1)},n=[],a=(r(7658),r(3822)),i={data(){return{searchInput:"",searchTips:[],showTip:!1}},methods:{...(0,a.nv)(["search/getSearchTip"]),backBtn(e){"/result"==this.$route.path&&(this.searchInput="",this.$router.replace("/main")),e?this.searchInput="":this.$router.go(-1)},async checkKeyword(e){if("/result"==this.$route.path&&this.$router.replace("/main"),this.showTip=!0,!e)return void(this.showTip=!1);let t=[],r=await this["search/getSearchTip"](e);Object.values(r.data.result).map((e=>{e.map((e=>{e.length||t.push(e)}))})),this.searchTips=t},searchSong(e){e&&(this.showTip=!1,this.searchInput=e,this.$router.replace({name:"result",params:{keywords:e}}))},getKey(e){this.searchInput=e}}},c=i,u=r(1001),h=(0,u.Z)(c,s,n,!1,null,"28bcaf40",null),o=h.exports}}]);
//# sourceMappingURL=914.906834f6.js.map