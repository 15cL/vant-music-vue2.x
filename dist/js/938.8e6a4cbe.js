"use strict";(self["webpackChunkvue_littlefivemusic"]=self["webpackChunkvue_littlefivemusic"]||[]).push([[938],{1938:function(t,s,i){i.r(s),i.d(s,{default:function(){return d}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"discover"},[s("div",{staticClass:"banner"},[s("van-swipe",{attrs:{autoplay:3e3}},t._l(t.banners,(function(i){return s("van-swipe-item",{key:i.bannerId},[s("img",{staticStyle:{width:"100%",height:"20vh","border-radius":"1rem"},attrs:{src:i.pic},on:{click:function(s){return t.toPlay(i.song.id,i.song)}}})])})),1)],1),s("div",{staticClass:"nav_bar"},[s("ul",[s("li",{on:{click:t.godaily}},[s("div",{staticClass:"iconfont icon-rili"}),t._v(" 每日推荐 ")]),t._m(0),t._m(1),t._m(2)])]),s("div",{staticClass:"daily_list"},[s("div",{staticClass:"title"},[s("h2",[t._v("推荐歌单")]),s("span",[t._v("更多"),s("van-icon",{attrs:{name:"arrow"}})],1)]),s("div",{ref:"new_wrap",staticClass:"content"},[s("ul",t._l(t.list,(function(i){return s("li",{key:i.id,on:{click:function(s){return t.toList(i.id)}}},[s("div",{staticClass:"img_con"},[s("img",{staticStyle:{width:"26vw","border-radius":"1rem"},attrs:{src:i.picUrl}}),s("p",{staticClass:"csl",staticStyle:{width:"26vw"}},[t._v(t._s(i.name))])])])})),0)])]),s("div",{staticClass:"newRec"},[s("div",{staticClass:"new_title"},[s("h2",{staticClass:"new_left"},t._l(t.new_titles,(function(i,a){return s("span",{key:a,style:{color:t.newTag==a?"black":"rgba(129, 129, 124, 0.786)"},on:{click:function(s){return t.tapTo(a)}}},[t._v(t._s(i))])})),0),s("span",{staticClass:"new_right"},[t._v("更多"),s("van-icon",{attrs:{name:"arrow"}})],1)]),t.newTag?s("div",{ref:"user_wrap",staticClass:"new_section"},[s("ul",t._l(t.newDies,(function(i){return s("li",{key:i.id,on:{click:function(s){return t.toList(i.id)}}},[s("span",[s("img",{staticStyle:{width:"4rem","border-radius":"1rem"},attrs:{src:i.picUrl}})]),s("div",{staticClass:"zj_text"},[s("h3",[t._v(" "+t._s(i.name)+" ")]),s("div",{staticClass:"gray csl"},[s("span",[t._v(t._s(i.artists))])])])])})),0)]):s("div",{ref:"user_wrap",staticClass:"new_section"},[s("ul",t._l(t.newSongs,(function(i){return s("li",{key:i.album.id,on:{click:function(s){return t.toPlay(i.id,i)}}},[s("span",[s("img",{staticStyle:{width:"4rem","border-radius":"1rem"},attrs:{src:i.album.picUrl}})]),s("div",{staticClass:"zj_text"},[s("h3",[t._v(" "+t._s(i.name)+" ")]),s("div",{staticClass:"gray csl"},[s("span",[t._v(t._s(i.ar))]),t._v(" - "+t._s(i.al.name)+" ")])])])})),0)])])])},e=[function(){var t=this,s=t._self._c;return s("li",[s("div",{staticClass:"iconfont icon-a-tupianyihuifu-10 fontup"}),t._v(" 私人FM ")])},function(){var t=this,s=t._self._c;return s("li",[s("div",{staticClass:"iconfont icon-gedan"}),t._v(" 歌单 ")])},function(){var t=this,s=t._self._c;return s("li",[s("div",{staticClass:"iconfont icon-book-full"}),t._v(" 有声书 ")])}],r=(i(7658),i(3822)),n=i(472),l={data(){return{banners:"",list:[],user_wrap:null,new_wrap:null,icons:[],newSongs:[],new_titles:["新歌","新碟"],newTag:0,newDies:[]}},async created(){let t=await this.$store.dispatch("discover/getBanner");this.banners=t.data.banners;let s=await this.$store.dispatch("discover/getRecommedList");s.data.recommend.map(((t,s)=>{s<6&&this.list.push(t)})),this.$nextTick((()=>{this._initScroll()}));let i=await this.$store.dispatch("discover/getNewSong",0);i.data.data.map(((t,s)=>{s<9&&(t.ar=(0,n.v)(t.artists),t.al=t.album,this.newSongs.push(t))}));let a=await this.$store.dispatch("discover/getNewDie",9);a.data.monthData.map(((t,s)=>{s<9&&(t.artists=(0,n.v)(t.artists),this.newDies.push(t))}))},methods:{...(0,r.OI)(["play/setCurrentPlaySong"]),...(0,r.nv)(["play/getSongDetail","play/getPlayUrl"]),async toPlay(t,s){Array.isArray(s.ar)&&(s.ar=(0,n.v)(s.ar)),this["play/setCurrentPlaySong"](s),this["play/getPlayUrl"](t),this["play/getSongDetail"](t),this.$store.commit("play/switchPlayer")},godaily(){this.$router.push("/dailySongs")},_initScroll(){this.user_wrap?this.user_wrap.refresh():this.user_wrap=window.BScroll(this.$refs.user_wrap,{click:!0,scrollX:!0,observeDOM:!0}),this.new_wrap?this.new_wrap.refresh():this.new_wrap=window.BScroll(this.$refs.new_wrap,{click:!0,scrollX:!0,observeDOM:!0})},toList(t){this.$router.push({name:"listDetail",query:{listId:t}})},tapTo(t){this.newTag=t}}},c=l,o=i(1001),u=(0,o.Z)(c,a,e,!1,null,"8dcef66a",null),d=u.exports}}]);
//# sourceMappingURL=938.8e6a4cbe.js.map