"use strict";(self["webpackChunkvue_littlefivemusic"]=self["webpackChunkvue_littlefivemusic"]||[]).push([[62],{3062:function(t,a,l){l.r(a),l.d(a,{default:function(){return y}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"list_page"},[a("div",{staticClass:"btn_tilte"},[a("span",{staticClass:"iconfont icon-xiangzuo",staticStyle:{"font-size":"1.1rem"},on:{click:t.backBtn}}),a("span",[t._v("歌单")]),a("van-icon",{attrs:{name:"search"}})],1),a("BS_Scroll",{staticClass:"wrapper",style:[{overflow:"hidden"},{height:t.currentPlaySong.id?"calc(100vh - 8.8rem)":"calc(100vh - 4.5rem)"}],attrs:{click:!0,data:t.allSong}},[a("div",{ref:"niu",staticClass:"content"},[a("header",[a("div",{staticClass:"list_detail"},[a("img",{staticClass:"img_style",attrs:{src:t.listDetail.coverImgUrl}}),a("div",{staticClass:"detail_right"},[a("h3",{staticClass:"list_title"},[t._v(t._s(t.listDetail.name))]),a("h5",{staticClass:"list_creator"},[t._v(" "+t._s(t.listDetail.creator.nickname)+" "),a("van-icon",{attrs:{name:"arrow"}})],1),a("h6",{staticClass:"list_des"},[t._v(" "+t._s(t.listDetail.description)+" ")])])])]),a("section",[a("ul",t._l(t.allSong,(function(l,s){return a("li",{key:l.al.id,on:{click:function(a){return t.toPlay(l.id,l,s)}}},[t.tapFlag!==s?a("span",[t._v(t._s(s+1))]):a("span",{staticClass:"iconfont icon-bar-chart-fill",staticStyle:{color:"orange","font-size":"1.3rem"}}),a("div",{staticClass:"zj_text"},[a("h3",{class:t.tapFlag==s?"active":""},[t._v(" "+t._s(l.name)+" ")]),a("div",{staticClass:"gray csl"},[a("span",[t._v(t._s(l.ar))]),t._v(" - "+t._s(l.al.name)+" ")])]),a("span",{staticClass:"iconfont icon-yuandiancaidan"})])})),0)])])])],1)},i=[],e=(l(7658),l(3822)),n=l(472),r={data(){return{listDetail:{},lists:[],allSong:[],tapFlag:null}},async created(){let t=this.$route.query.listId;this.getPlayListDetail(t);let a=await this.getAllPlaySong(t);this.tapFlag=a.findIndex((t=>t.id==this.currentPlaySong.id))},computed:{...(0,e.Se)(["currentPlaySong","showPlayerFlag"])},watch:{currentPlaySong(t){this.tapFlag=t.index}},methods:{...(0,e.nv)(["playlist/getPlayListDetail","playlist/getAllPlaySong","play/getPlayUrl","play/getSongDetail"]),...(0,e.OI)(["play/setCurrentPlaySong","play/setCurrentPlayList"]),backBtn(){this.$router.go(-1)},async getPlayListDetail(t){let a=await this["playlist/getPlayListDetail"](t);this.listDetail=a.data.playlist},async getAllPlaySong(t){let a=await this["playlist/getAllPlaySong"](t),l=[];a.data.songs?.map((t=>{l.push(t.id)}));let s=await this["play/getSongDetail"](l);return s.data.songs?.map(((t,a)=>s.data.songs[a].ar=(0,n.v)(t.ar))),this["play/setCurrentPlayList"](s.data.songs),this.allSong=s.data.songs,s.data.songs},async toPlay(t,a,l){let s=await this["play/getPlayUrl"](t);if(!s)return this.$toast("当前音乐无可用资源"),this.toPlay(this.allSong[l+1].id,this.allSong[l+1],l+1);this.tapFlag=l,a.index=l,this.$store.commit("play/switchPlayer"),this["play/setCurrentPlaySong"](a),this["play/getSongDetail"](t)}}},c=r,o=l(1001),g=(0,o.Z)(c,s,i,!1,null,"2621df78",null),y=g.exports}}]);