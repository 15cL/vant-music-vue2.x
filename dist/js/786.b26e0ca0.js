"use strict";(self["webpackChunkvue_littlefivemusic"]=self["webpackChunkvue_littlefivemusic"]||[]).push([[786],{2786:function(t,s,i){i.r(s),i.d(s,{default:function(){return h}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"user_page"},[s("div",{ref:"user_wrap",style:[{overflow:"hidden"},{height:t.currentPlaySong.id?"calc(100vh - 7.5rem)":"calc(100vh - 2.65rem)"}]},[s("div",{staticClass:"move"},[s("header",[s("div",{staticClass:"title",on:{click:t.showPopup}},[t.token?s("div",{staticClass:"head_title"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy"}],attrs:{src:t.userInfo?.avatarUrl}}),s("div",{staticClass:"userinfo"},[s("h1",{staticStyle:{"font-size":"1.5rem"}},[t._v(t._s(t.userInfo?.nickname))]),t._m(0)])]):s("div",{staticClass:"head_title"},[s("img",{staticStyle:{"border-radius":"1rem"},attrs:{src:t.imgUrl}}),s("div",{staticClass:"userinfo",on:{click:function(s){return s.stopPropagation(),t.switchLogin.apply(null,arguments)}}},[s("h1",{staticStyle:{"font-size":"1.8rem"}},[t._v("立即登录")])])])])]),s("section",[t.token?s("div",{staticClass:"likeMusic list_style",on:{click:function(s){return t.toList(t.myList?.likeList[0]?.id)}}},[t.myList?s("img",{staticStyle:{width:"5rem",height:"5rem","border-radius":"1rem","margin-right":"1rem",border:"0.0625rem solid ghostwhite"},attrs:{src:t.myList?.likeList[0]?.imgUrl}}):t._e(),s("div",{staticClass:"name_list"},[s("h3",[t._v("我喜欢的音乐")]),t.myList?s("div",{staticClass:"count_name"},[s("van-icon",{attrs:{name:"passed",color:"rgb(0, 204, 255)"}}),t._v(" "+t._s(t.myList?.likeList[0]?.count)+"首 ")],1):t._e()])]):s("div",{staticClass:"likeMusic list_style"},[s("img",{staticStyle:{width:"5rem",height:"5rem","border-radius":"1rem","margin-right":"1rem",border:"0.0625rem solid ghostwhite"},attrs:{src:t.imgUrl}}),s("div",{staticClass:"name_list"},[s("h3",[t._v("我喜欢的音乐")]),s("div",{staticClass:"count_name"},[s("van-icon",{attrs:{name:"passed",color:"rgb(0, 204, 255)"}}),t._v(" 0首 ")],1)])]),t.token?s("ListTable",{attrs:{lists:t.myList?.createList,title:"创建歌单"}}):s("div",{staticClass:"tltle"},[t._v("创建歌单")]),t.token?s("ListTable",{attrs:{lists:t.myList?.collectList,title:"收藏歌单"}}):s("div",{staticClass:"tltle"},[t._v("收藏歌单")])],1),t.token?s("van-popup",{style:{width:"100%",padding:"2rem 1rem"},attrs:{position:"bottom"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[s("van-button",{attrs:{block:"",type:"info"},on:{click:t.logOut}},[t._v("退出登录")])],1):t._e()],1)])])},r=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"gf"},[s("div",{staticClass:"guanzhu"},[t._v("0 关注")]),s("div",{staticClass:"fans"},[t._v("0 粉丝")])])}],a=(i(7658),i(3822));const l=()=>i.e(454).then(i.bind(i,3454));var o={components:{ListTable:l},data(){return{show:!1,imgUrl:i(768),myList:"",user_wrap:null}},computed:{...(0,a.Se)(["token","userInfo","showPlayerFlag","currentPlaySong"])},created(){this.getMyList()},methods:{...(0,a.nv)(["user/getUserInfo","user/getPlayList"]),async getMyList(){let t=sessionStorage.getItem("UserId");if(this.$store.dispatch("playlist/getJingPingList"),t){this["user/getUserInfo"](t);let s=await this["user/getPlayList"](t);s&&(this.myList=s,this.$nextTick((()=>{this._initScroll()})))}},_initScroll(){this.user_wrap?this.user_wrap.refresh():this.user_wrap=window.BScroll(this.$refs.user_wrap,{click:!0,scrollY:!0,observeDOM:!0})},toList(t){this.$router.push({name:"listDetail",query:{listId:t}})},switchLogin(){this.$router.push("/login")},showPopup(){this.token&&(this.show=!this.show)},async logOut(){await this.$store.dispatch("user/logOut"),this.flag=!1,this.$router.push("/login")}}},n=o,c=i(1001),u=(0,c.Z)(n,e,r,!1,null,null,null),h=u.exports},768:function(t,s,i){t.exports=i.p+"img/login_lo.e4811fb4.png"}}]);