"use strict";(self["webpackChunkvue_littlefivemusic"]=self["webpackChunkvue_littlefivemusic"]||[]).push([[302],{3302:function(t,s,a){a.r(s),a.d(s,{default:function(){return d}});var i=function(){var t=this,s=t._self._c;return s("BS_Scroll",{class:["cover_wrap",t.currentPlaySong.id?"has_Play":"no_play"],attrs:{data:t.list,click:!0}},[s("div",{staticClass:"discover"},[s("div",{staticClass:"banner"},[s("van-swipe",{attrs:{autoplay:3e3}},t._l(t.banners,(function(a){return s("van-swipe-item",{key:a.bannerId},[s("img",{staticStyle:{width:"100%",height:"20vh","border-radius":"1rem"},attrs:{src:a.pic},on:{click:function(s){return t.toPlay(a.song.id,a.song)}}})])})),1)],1),s("div",{staticClass:"nav_bar"},[s("ul",[s("li",{on:{click:t.godaily}},[s("div",{staticClass:"iconfont icon-rili"}),t._v(" 每日推荐 ")]),s("li",[s("div",{staticClass:"iconfont icon-a-tupianyihuifu-10 fontup"}),t._v(" 私人FM ")]),s("li",[s("div",{staticClass:"iconfont icon-gedan"}),t._v(" 歌单 ")]),s("li",[s("div",{staticClass:"iconfont icon-book-full"}),t._v(" 有声书 ")])])]),s("div",{staticClass:"daily_list"},[s("div",{staticClass:"title"},[s("h2",[t._v("推荐歌单")]),s("span",{on:{click:t.moreList}},[t._v("更多"),s("van-icon",{attrs:{name:"arrow"}})],1)]),s("BS_Scroll",{staticClass:"content",attrs:{data:t.list,click:!0,scrollX:!0}},[s("ul",t._l(t.list,(function(a){return s("li",{key:a.id,on:{click:function(s){return t.toList(a.id)}}},[s("div",{staticClass:"img_con"},[s("img",{staticStyle:{width:"26vw","border-radius":"1rem"},attrs:{src:a.picUrl}}),s("p",{staticClass:"csl",staticStyle:{width:"26vw"}},[t._v(t._s(a.name))])])])})),0)])],1),s("div",{staticClass:"newRec"},[s("div",{staticClass:"new_title"},[s("h2",{staticClass:"new_left"},t._l(t.new_titles,(function(a,i){return s("span",{key:i,style:{color:t.newTag==i?"black":"rgba(129, 129, 124, 0.786)"},on:{click:function(s){return t.tapTo(i)}}},[t._v(t._s(a))])})),0),s("span",{staticClass:"new_right",on:{click:t.moreList}},[t._v("更多"),s("van-icon",{attrs:{name:"arrow"}})],1)]),t.newTag?s("BS_Scroll",{ref:"user_wrap",staticClass:"new_section",attrs:{data:t.newSongs,click:!0,scrollX:!0}},[s("ul",t._l(t.newDies,(function(a){return s("li",{key:a.id,on:{click:function(s){return t.toAlbum(a.id)}}},[s("span",[s("img",{staticStyle:{width:"4rem","border-radius":"1rem"},attrs:{src:a.picUrl}})]),s("div",{staticClass:"zj_text"},[s("h3",[t._v(" "+t._s(a.name)+" ")]),s("div",{staticClass:"gray csl"},[s("span",[t._v(t._s(a.artists))])])])])})),0)]):s("BS_Scroll",{staticClass:"new_section",attrs:{data:t.newSongs,click:!0,scrollX:!0}},[s("ul",t._l(t.newSongs,(function(a){return s("li",{key:a.album.id,on:{click:function(s){return t.toPlay(a.id,a)}}},[s("span",[s("img",{staticStyle:{width:"4rem","border-radius":"1rem"},attrs:{src:a.album.picUrl}})]),s("div",{staticClass:"zj_text"},[s("h3",[t._v(" "+t._s(a.name)+" ")]),s("div",{staticClass:"gray csl"},[s("span",[t._v(t._s(a.ar))]),t._v(" - "+t._s(a.al.name)+" ")])])])})),0)])],1)])])},e=[],n=(a(7658),a(3822)),l=a(472),r={data(){return{banners:"",list:[],user_wrap:null,icons:[],newSongs:[],new_titles:["新歌","新碟"],newTag:0,newDies:[]}},computed:{...(0,n.Se)(["currentPlaySong"])},async created(){let t=await this.$store.dispatch("discover/getBanner");this.banners=t.data.banners,this.getRecList(),this.getNewSong(),this.getNewAlbum()},methods:{...(0,n.OI)(["play/setCurrentPlaySong"]),...(0,n.nv)(["play/getSongDetail","play/getPlayUrl"]),async toPlay(t,s){Array.isArray(s.ar)&&(s.ar=(0,l.v)(s.ar)),this["play/setCurrentPlaySong"](s),this["play/getPlayUrl"](t),this["play/getSongDetail"](t),this.$store.commit("play/switchPlayer")},async getNewSong(){let t=await this.$store.dispatch("discover/getNewSong",9);t.data.result.map((t=>{t.song.ar=(0,l.v)(t.song.artists),t.song.al=t.song.album,this.newSongs.push(t.song)}))},async getRecList(){let t=await this.$store.dispatch("discover/getRecommedList",6);t.data.result.map((t=>{this.list.push(t)}))},async getNewAlbum(){let t=await this.$store.dispatch("discover/getNewDie");t.data.albums.map(((t,s)=>{s<9&&(t.artists=(0,l.v)(t.artists),this.newDies.push(t))}))},moreList(){this.$toast("当前无更多")},godaily(){this.$router.push("/dailySongs")},toList(t){this.$router.push({name:"listDetail",query:{listId:t}})},toAlbum(t){this.$router.push({name:"album",query:{albumId:t}})},tapTo(t){this.newTag=t}}},c=r,o=a(1001),u=(0,o.Z)(c,i,e,!1,null,"cc9d0e44",null),d=u.exports}}]);
//# sourceMappingURL=302.f1eaf1ac.js.map