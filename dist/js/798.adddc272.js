"use strict";(self["webpackChunkvue_littlefivemusic"]=self["webpackChunkvue_littlefivemusic"]||[]).push([[798],{2798:function(t,a,s){s.r(a),s.d(a,{default:function(){return d}});var i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"daily_song"},[a("div",{staticClass:"btn_tilte"},[a("span",{staticClass:"iconfont icon-xiangzuo",staticStyle:{"font-size":"1.1rem"},on:{click:t.backBtn}}),a("span",[t._v("今日推荐")]),a("van-icon",{attrs:{name:"search"}})],1),a("div",{ref:"user_wrap",staticClass:"wrapper",style:[{overflow:"hidden"},{height:t.currentPlaySong.id?"calc(100vh - 8.8rem)":"calc(100vh - 4rem)"}]},[a("div",[a("header",[a("span",{staticStyle:{"font-size":"2.5rem"}},[t._v(t._s(t.day))]),t._v("/"),a("span",[t._v(t._s(t.month))])]),a("section",[a("ul",t._l(t.list.dailySongs,(function(s,i){return a("li",{key:s.id,on:{click:function(a){return t.toPlay(s.id,s,i)}}},[t.tapFlag!==i?a("span",[a("img",{staticStyle:{width:"2.3rem"},attrs:{src:s.al.picUrl}})]):a("span",{staticClass:"iconfont icon-bar-chart-fill",staticStyle:{color:"orange","font-size":"1.3rem"}}),a("div",{staticClass:"zj_text"},[a("h3",{class:t.tapFlag==i?"active":""},[t._v(" "+t._s(s.name)+" ")]),a("div",{staticClass:"gray csl"},[a("span",[t._v(t._s(s.ar))]),t._v(" - "+t._s(s.al.name)+" ")])]),a("span",{staticClass:"iconfont icon-yuandiancaidan"})])})),0)])])])])},e=[],l=s(472),n=s(3822),r={name:"dailySongs",data(){return{list:"",day:"",month:"",user_wrap:"",tapFlag:null}},async created(){let t=await this.$store.dispatch("discover/getRecommedSong");this.list=t.data.data,this.list.dailySongs.map((t=>{t.ar=(0,l.v)(t.ar)})),this.$nextTick((()=>{this._initScroll()}));let a=new Date;this.day=a.getDate(),this.month=a.getMonth()+1,this.tapFlag=this.list.dailySongs.findIndex((t=>t.id==this.currentPlaySong.id))},computed:{...(0,n.Se)(["currentPlaySong"])},methods:{...(0,n.nv)(["play/getSongDetail","play/getPlayUrl"]),...(0,n.OI)(["play/setCurrentPlaySong"]),backBtn(){this.$router.go(-1)},_initScroll(){this.user_wrap?this.user_wrap.refresh():this.user_wrap=window.BScroll(this.$refs.user_wrap,{click:!0,scrollY:!0,observeDOM:!0})},async toPlay(t,a,s){await this["play/getPlayUrl"](t),this.tapFlag=s,a.index=s,this.$store.commit("play/switchPlayer"),this["play/setCurrentPlaySong"](a),this["play/getSongDetail"](t)}}},c=r,o=s(1001),h=(0,o.Z)(c,i,e,!1,null,"3f996bf0",null),d=h.exports}}]);
//# sourceMappingURL=798.adddc272.js.map